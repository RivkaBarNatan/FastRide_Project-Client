<!-- <h1 *ngIf="data.actionType=='edit'" mat-dialog-title>עדכון כלי רכב {{data.vehicleId}}</h1> -->
<div mat-dialog-content>
    <form [formGroup]="newPassengerForm" (ngSubmit)="save()">
        <mat-form-field>
            <mat-label>שם משתמש</mat-label>
            <input matInput formControlName="userName" required>
            <mat-error *ngIf="newPassengerForm.hasError('required', 'userName')">שדה זה חובה</mat-error>
        </mat-form-field>
        
        <form [formGroup]="passwordsGroup">
            <mat-form-field>
                <input matInput placeholder="סיסמא" formControlName="password" required>
                <mat-error *ngIf="passwordsGroup.hasError('required', 'password')">
                    נא הקלד סיסמה
                  </mat-error>
            </mat-form-field>
    
            <mat-form-field>
                <mat-label>אימות סיסמא</mat-label>
                <input matInput formControlName="verifiedPassword" [errorStateMatcher]="matcher" required>
                 <mat-error *ngIf="passwordsGroup.hasError('notSame')">
                    הסיסמה לא תואמת
                  </mat-error> 
                  <mat-error *ngIf="passwordsGroup.hasError('required', 'verifiedPassword')">
                    נא הקלד סיסמה
                  </mat-error>
            </mat-form-field>
        </form>

        <mat-form-field>
            <mat-label>טלפון</mat-label>
            <input matInput formControlName="phone" required>
            <mat-error *ngIf="newPassengerForm.hasError('required', 'phone')">שדה זה חובה</mat-error>
            <mat-error *ngIf="newPassengerForm.hasError('minlength', 'phone')">מספר לא תקין</mat-error>
        </mat-form-field>


        <!-- <mat-form-field>
            <mat-label>כתובת</mat-label>
            <input matInput formControlName="address" required>
            <mat-error *ngIf="newPassengerForm.hasError('required', 'address')">שדה זה חובה</mat-error>
        </mat-form-field> -->
        
        <mat-form-field>
            <mat-label>כתובת</mat-label>
            <input matInput formControlName="address"
                   matGoogleMapsAutocomplete
                   [country]="il"
                   (onAutocompleteSelected)="onAutocompleteSelected($event)">
          </mat-form-field>


        <mat-form-field>
            <mat-label>אימייל</mat-label>
            <input matInput formControlName="email" required>
            <mat-error>
                <span *ngIf="newPassengerForm.hasError('required', 'email')">שדה זה חובה</span>
            </mat-error>
        </mat-form-field>
    </form>
</div>


<div mat-dialog-actions>
    <button mat-button [mat-dialog-close]>ביטול</button>
    <button mat-raised-button mat-dialog-close [disabled]="!(newPassengerForm.valid && passwordsGroup.valid)">שמירה</button>
</div>